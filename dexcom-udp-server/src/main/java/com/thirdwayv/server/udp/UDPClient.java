package com.thirdwayv.server.udp;

import java.io.IOException;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.SocketException;
import java.net.UnknownHostException;

import com.thirdwayv.server.utils.ByteOperationsHandlers;

public class UDPClient {

	public static void main(String args[]) {
		
		sendGoodMessage();
		//sendBadMessage();
		//sendGoodMessage();
	}
	
	
	private static void sendBadMessage(){
		String hexMessage = "54571120020002e000066d740000000e4c302e393d000000000000001e00000000000000000001";
        byte[] buf = new byte[hexMessage.length()];
        DatagramSocket socket = null;
        try {
            socket = new DatagramSocket();
        } catch (SocketException e) {
            e.printStackTrace();
        }
        InetAddress address = null;
        try {
            address = InetAddress.getLocalHost();
            System.out.println(address);
        } catch (UnknownHostException e) {
            e.printStackTrace();
        }
        buf= ByteOperationsHandlers.hexStringToByteArray(hexMessage);
        DatagramPacket packet = new DatagramPacket(buf, buf.length, address, 6666);
        try {
            socket.send(packet);            
            byte[] recievedBuf = new byte[2048];
            packet = new DatagramPacket(recievedBuf, recievedBuf.length);
            socket.receive(packet);
    		String received = new String(packet.getData(), 0, packet.getLength());
    		System.out.println( received);
        } catch (IOException e) {
            e.printStackTrace();
        }
		
	}
	private static void sendGoodMessage(){
		//String hexMessage = "54571120240006603333330a0000000e4c302e393d000000000000001e0000000000000000000100539edd34323132333600000052006400539edd000000f600000000";
//		String hexMessage = "54571120020017e0333333200000000e4c302e393d000000000000001e00000000000000000006000013883432313333330000000100000000000000000001000000000000177034323133333300000001000000000000000000010000000000001b5834323133333300000001000000000000000000010000000000001f403432313333330000000100000000000000000001000000000000232834323133333300000001000000000000000000010000000000002710343231333333000000010000000000000000000100000000";
		String hexMessage = "5457112002006d20333333220000000e570500010002e071383034344e36000000b200000000000000000dcf94ce0c10efd108000137dd001600000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500013a82001d000005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500013efd002200000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500014035009e0000050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000152ca00290000050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000159d200070100050006000600060006000600010001800b00070000050005000500050005000500050001820f005d000005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005000500050005007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007b007a007a007a007a007a007a007a007a007a007a007a007a007a007a007a00790079007900790079007900790079007900790079007900790079007900790078007800780078007800780078007e00780078";
		byte[] buf = new byte[hexMessage.length()];
        DatagramSocket socket = null;
        try {
            socket = new DatagramSocket();
        } catch (SocketException e) {
            e.printStackTrace();
        }
        InetAddress address = null;
        try {
            address = InetAddress.getLocalHost();
            System.out.println(address);
        } catch (UnknownHostException e) {
            e.printStackTrace();
        }
        buf= ByteOperationsHandlers.hexStringToByteArray(hexMessage);
        DatagramPacket packet = new DatagramPacket(buf, buf.length, address, 6666);
        try {
            socket.send(packet);            
            byte[] recievedBuf = new byte[2048];
            packet = new DatagramPacket(recievedBuf, recievedBuf.length);
            socket.receive(packet);
    		String received = new String(packet.getData(), 0, packet.getLength());
    		System.out.println( received);
        } catch (IOException e) {
            e.printStackTrace();
        }
		
	}
	
	
}
